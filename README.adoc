# python-fido2-webauthn-test — Local setup (without PQC)

This guide shows how to clone the repository and set up a working local environment for WebAuthn with Python FIDO2 on Windows, macOS, and Linux.

Scope
- Includes: Python, virtual environment, Flask, python-fido2, optional PC/SC extras.
- Excludes: Post‑Quantum Crypto (PQC). PQC set up will be added later. 

---

## Supported platforms

- Windows 10/11 (64‑bit)
- macOS (Intel or Apple Silicon)
- Linux (Ubuntu/Debian/Fedora/Arch, etc.)

A modern browser (eg. Edge, Chrome, Safari, Firefox) with WebAuthn support is required. 

---

## 1) Prerequisites

- Git: install from [git-scm.com](https://git-scm.com/)
- Python 3.12+ (64‑bit) with pip
  - Windows: Install from [python.org](https://www.python.org/downloads/windows/) and check “Add Python to PATH.”
  - macOS: Install via [python.org](https://www.python.org/downloads/macos/) or Homebrew.
  - Linux: Install via your distro or [python.org](https://www.python.org/downloads/source/).

Optional tools (choose as you like; not required):
- Poetry (project dependency manager)
- Conda/Miniforge (environment manager)

---

## 2) Clone the repository

```bash
git clone https://github.com/rainzhang05/python-fido2-webauthn-test.git
cd python-fido2-webauthn-test
```

---

## 3) Recommended setup — pip + venv (no PQC)

Create a project‑local virtual environment and install only the runtime dependencies needed for WebAuthn demos.

### Windows (PowerShell)

```powershell
# Create and activate a virtual environment using Python 3.12
py -3.12 -m venv .venv
.\.venv\Scripts\Activate.ps1

# Upgrade pip and install runtime dependencies
python -m pip install --upgrade pip
pip install fido2 flask

# Optional: if you need PC/SC smart card extras (pyscard)
pip install "fido2[pcsc]"
```

### macOS and Linux (bash/zsh)

```bash
# Create and activate a virtual environment
python3 -m venv .venv
source .venv/bin/activate

# Upgrade pip and install runtime dependencies
python -m pip install --upgrade pip
pip install fido2 flask

# Optional: if you need PC/SC smart card extras (pyscard)
pip install "fido2[pcsc]"
```

Verifying the environment:

```bash
python -c "import fido2, flask; print('fido2 OK, flask OK')"
```

---

## 4) Optional setup — Poetry (instead of pip/venv)

Use Poetry if you prefer its workflow. It will create `.venv` inside the project.

### Install Poetry

- Windows (PowerShell):

```powershell
# Install pipx for isolated CLI apps (user-level)
py -3.12 -m pip install --user pipx
py -3.12 -m pipx ensurepath
# Open a NEW PowerShell window so PATH changes apply

# Install Poetry via pipx
pipx install poetry

# If 'poetry' still isn't found, either open a new terminal or add to PATH for this session:
# $env:Path += ";$env:USERPROFILE\.local\bin;$env:USERPROFILE\AppData\Roaming\Python\Python312\Scripts"
poetry --version
```

- macOS/Linux (bash/zsh):

```bash
python3 -m pip install --user pipx
python3 -m pipx ensurepath
# Open a NEW terminal
pipx install poetry
poetry --version
```

### Use Poetry in this project

```bash
# From the repo root
poetry config virtualenvs.in-project true

# Point Poetry to your Python (choose one):
poetry env use 3.12
# OR give an absolute path if needed:
# poetry env use "/usr/bin/python3"                # macOS/Linux example
# poetry env use "C:\Path\To\Python312\python.exe" # Windows example

poetry install

#Verifying the environment: 
poetry run python -c "import fido2; print('fido2 OK')"
```
