<div id="mds-list-section" class="section mds-section">
    <div class="mds-section-header">
        <div class="mds-section-title">
            <h2>FIDO MDS Authenticators</h2>
            <p class="mds-section-description">
                Explore the authenticators published by the FIDO Metadata Service (MDS).
            </p>
            <p class="mds-entry-count-inline" aria-live="polite">
                Entries: <span id="mds-entry-count">0</span>
                <span id="mds-total-count" class="mds-entry-count-total"></span>
            </p>
            <p class="mds-memory-usage" aria-live="polite">
                Memory usage:
                <span id="mds-memory-usage-value" class="mds-memory-usage__value">--</span>
                <span id="mds-memory-usage-delta" class="mds-memory-usage__delta"></span>
                <span id="mds-memory-usage-peak" class="mds-memory-usage__peak"></span>
                <span id="mds-memory-usage-tracked" class="mds-memory-usage__tracked"></span>
                <span id="mds-memory-usage-timestamp" class="mds-memory-usage__timestamp"></span>
                <span
                    id="mds-memory-usage-info"
                    class="mds-memory-usage__info"
                    role="img"
                    aria-label="Memory readings reflect the server process working set (RSS). Small increases over time are expected because Python keeps memory ready for reuse."
                    title="Memory readings reflect the server process working set (RSS). Small increases over time are expected because Python keeps memory ready for reuse."
                >
                    ‚ìò
                </span>
            </p>
        </div>
        <div class="mds-section-actions">
            <button type="button" id="mds-add-metadata-button" class="mds-add-metadata-button">
                Add Metadata
            </button>
            <button type="button" id="mds-update-button" class="mds-update-button">
                Update Metadata
            </button>
        </div>
    </div>

    <div id="mds-custom-metadata-panel" class="mds-custom-panel" hidden>
        <div class="mds-custom-panel__backdrop" data-action="close"></div>
        <div class="mds-custom-panel__dialog" role="dialog" aria-modal="true" aria-labelledby="mds-custom-panel-title">
            <button type="button" class="mds-custom-panel__close" id="mds-custom-panel-close" aria-label="Close">
                √ó
            </button>
            <h3 id="mds-custom-panel-title">Add Trusted Metadata</h3>
            <p class="mds-custom-panel__description">
                Drop JSON metadata files here or select them from your device. Uploaded files are trusted only for this browser session.
            </p>
            <label
                class="mds-custom-panel__dropzone"
                id="mds-custom-dropzone"
                role="button"
                tabindex="0"
                aria-describedby="mds-custom-dropzone-hint"
                for="mds-custom-file-input"
            >
                <span class="mds-custom-panel__dropzone-icon" aria-hidden="true">üìÅ</span>
                <span class="mds-custom-panel__dropzone-text">Drop JSON files here or click to browse</span>
                <span id="mds-custom-dropzone-hint" class="mds-custom-panel__hint">Only <code>.json</code> files are accepted.</span>
            </label>
            <input
                type="file"
                id="mds-custom-file-input"
                class="mds-custom-panel__file-input"
                accept=".json,application/json"
                multiple
            />
            <div id="mds-custom-messages" class="mds-custom-panel__messages" aria-live="polite"></div>
            <ul id="mds-custom-list" class="mds-custom-panel__list" aria-live="polite"></ul>
        </div>
    </div>

    <div id="mds-status" class="mds-status mds-status-info">
        Metadata has not been downloaded yet. Use the Download Metadata button.
    </div>

    <div class="mds-table-container" id="mds-table-container">
        <table class="mds-table">
            <thead>
                <tr>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Icon</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="icon"
                                data-sort-label="Icon"
                                data-sort-direction="none"
                                aria-label="Sort Icon column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Name</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="name"
                                data-sort-label="Name"
                                data-sort-direction="none"
                                aria-label="Sort Name column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Protocol</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="protocol"
                                data-sort-label="Protocol"
                                data-sort-direction="none"
                                aria-label="Sort Protocol column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Certification</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="certification"
                                data-sort-label="Certification"
                                data-sort-direction="none"
                                aria-label="Sort Certification column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">ID</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="id"
                                data-sort-label="ID"
                                data-sort-direction="none"
                                aria-label="Sort ID column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">User Verification</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="userVerification"
                                data-sort-label="User Verification"
                                data-sort-direction="none"
                                aria-label="Sort User Verification column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Attachment</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="attachment"
                                data-sort-label="Attachment"
                                data-sort-direction="none"
                                aria-label="Sort Attachment column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Transports</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="transports"
                                data-sort-label="Transports"
                                data-sort-direction="none"
                                aria-label="Sort Transports column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Key Protection</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="keyProtection"
                                data-sort-label="Key Protection"
                                data-sort-direction="none"
                                aria-label="Sort Key Protection column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Algorithms</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="algorithms"
                                data-sort-label="Algorithms"
                                data-sort-direction="none"
                                aria-label="Sort Algorithms column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Algorithm Info</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="algorithmInfo"
                                data-sort-label="Algorithm Info"
                                data-sort-direction="none"
                                aria-label="Sort Algorithm Info column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">CN</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="commonName"
                                data-sort-label="CN"
                                data-sort-direction="none"
                                aria-label="Sort CN column"
                            ></button>
                        </div>
                    </th>
                    <th scope="col">
                        <div class="mds-header-cell">
                            <span class="mds-header-text">Date Updated</span>
                            <button
                                type="button"
                                class="mds-sort-button"
                                data-sort-key="dateUpdated"
                                data-sort-label="Date Updated"
                                data-sort-direction="none"
                                aria-label="Sort Date Updated column"
                            ></button>
                        </div>
                    </th>
                </tr>
                <tr class="mds-filter-row">
                    <th></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-name" class="mds-filter-input" placeholder="Search name"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-protocol" class="mds-filter-input" placeholder="Protocol"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-certification" class="mds-filter-input" placeholder="Certification"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-id" class="mds-filter-input" placeholder="AAGUID or AAID"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-user-verification" class="mds-filter-input" placeholder="User verification"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-attachment" class="mds-filter-input" placeholder="Attachment"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-transports" class="mds-filter-input" placeholder="Transports"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-key-protection" class="mds-filter-input" placeholder="Key protection"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-algorithms" class="mds-filter-input" placeholder="Algorithms"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-algorithm-info" class="mds-filter-input" placeholder="Algorithm info"></th>
                    <th class="mds-filter-cell"><input type="search" id="mds-filter-common-name" class="mds-filter-input" placeholder="CN"></th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="mds-table-body">
                <tr class="mds-empty-row">
                    <td colspan="13">Metadata has not been downloaded yet. Use the Download Metadata button.</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="mds-horizontal-scroll" id="mds-horizontal-scroll" aria-hidden="true">
        <div class="mds-horizontal-scroll__content"></div>
    </div>

    <button
        type="button"
        id="mds-scroll-top-button"
        class="mds-scroll-top"
        hidden
        aria-label="Back to top of the authenticator list"
        title="Back to top"
    >
        ‚Üë
    </button>

</div>

<div id="mds-certificate-modal" class="mds-modal" hidden aria-hidden="true">
    <div class="mds-modal__dialog mds-modal__dialog--certificate" role="dialog" aria-modal="true" aria-labelledby="mds-certificate-modal-title">
        <div class="mds-modal__header">
            <h3 id="mds-certificate-modal-title" class="mds-modal__title">Attestation Certificate</h3>
            <button type="button" id="mds-certificate-modal-close" class="mds-modal__close" aria-label="Close">
                √ó
            </button>
        </div>
        <div id="mds-certificate-modal-body" class="mds-modal__body mds-modal__body--certificate">
            <div id="mds-certificate-summary" class="mds-certificate-summary" aria-live="polite"></div>
            <div class="mds-modal__grid">
                <div class="mds-modal__section">
                    <h4 class="mds-modal__section-title">Input</h4>
                    <div id="mds-certificate-input" class="mds-modal__textarea" aria-live="polite"></div>
                </div>
                <div class="mds-modal__section">
                    <h4 class="mds-modal__section-title">Decoded Output</h4>
                    <div id="mds-certificate-output" class="mds-modal__textarea" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="mds-authenticator-modal" class="mds-detail-page" hidden aria-hidden="true">
    <div class="mds-detail-page__header">
        <button
            type="button"
            id="mds-authenticator-modal-close"
            class="mds-detail-page__back"
            aria-label="Return to authenticator list"
            title="Back"
        >&larr;</button>
        <div class="mds-detail-page__heading">
            <h3 id="mds-authenticator-modal-title" class="mds-detail-page__title">Authenticator</h3>
            <p id="mds-authenticator-modal-subtitle" class="mds-detail-page__subtitle"></p>
        </div>
        <div class="mds-detail-page__actions">
            <button type="button" id="mds-authenticator-modal-raw" class="mds-detail-page__action">
                Raw
            </button>
        </div>
    </div>
    <div id="mds-authenticator-modal-body" class="mds-detail-page__body">
        <div id="mds-authenticator-modal-content" class="mds-detail mds-detail--page"></div>
    </div>
</div>
